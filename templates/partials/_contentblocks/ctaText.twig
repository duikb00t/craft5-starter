{% set position = block.position.value ?? 'textRight' %}

<div class="js-smooth-section page-ctatext py-12">
    <div class="container mx-auto">
        {% if position == 'centered' %}
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl font-extrabold">
                    {{ block.heading|striptags|raw }}
                </h2>

                <p class="my-4 text-lg text-gray-100">
                    {{ block.body|raw }}
                </p>

                {% set cta = block.ctaButton ?? null %}
                {% if cta and cta.url ?? false and cta.title ?? false %}
                    <a href="{{ cta.url }}">
                        <button class="mt-4 bg-white text-[#0b69a3] font-semibold py-2 px-6 rounded shadow hover:bg-gray-100 transition">
                            {{ cta.title }}
                        </button>
                    </a>
                {% endif %}
            </div>
        {% else %}
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-8">
                {# Left column: heading #}
                <div class="md:w-1/2
                    {% if position == 'textLeft' %}md:order-2{% endif %}
                ">
                    <h2 class="text-4xl font-extrabold">
                        {{ block.heading|striptags|raw }}
                    </h2>
                </div>

                {# Right column: body and button #}
                <div class="md:w-1/2
                    {% if position == 'textLeft' %}md:order-1{% endif %}
                ">
                    <p class="my-4 text-lg text-gray-100">
                        {{ block.body|raw }}
                    </p>

                    {% set cta = block.ctaButton ?? null %}
                    {% if cta and cta.url ?? false and cta.title ?? false %}
                        <a href="{{ cta.url }}">
                            <button class="mt-4 bg-white text-[#0b69a3] font-semibold py-2 px-6 rounded shadow hover:bg-gray-100 transition">
                                {{ cta.title }}
                            </button>
                        </a>
                    {% endif %}
                </div>
            </div>
        {% endif %}
    </div>
</div>
