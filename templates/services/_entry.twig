{#
# Services specific template
# ------------------
#
#}

{% extends "_layout" %}
{% set title = entry.title %}


{% block content %}


       {% if entry.children | length  %}
        <div class="container mx-auto">

            <h2 class="text-4xl font-extrabold">
                {{ entry.title }}
            </h2>

               <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                   {% for child in entry.children %}
                       {% set image = child.featuredImage.one() %}
                       <a href="{{ child.getUrl() }}" class="block bg-white rounded shadow hover:shadow-lg transition overflow-hidden text-center">
                           {% if image %}
                               <img src="{{ image.url }}" alt="{{ child.title }}" class="w-full aspect-square object-cover">
                           {% else %}
                               <div class="w-full aspect-square bg-gray-100 flex items-center justify-center text-gray-400">
                                   <span class="text-sm">No image</span>
                               </div>
                           {% endif %}
                           <div class="p-3 font-semibold text-black">
                               {{ child.title }}
                           </div>
                       </a>
                   {% endfor %}
               </div>
        </div>

       {% else %}
           <!-- Render template, not the grid -->

           {% if entry.contentblocks is defined and entry.contentblocks|length %}
               {% include "partials/_contentblocks.twig" with { block: entry.contentblocks.all() } %}
           {% endif %}

       {% endif %}
{% endblock %}